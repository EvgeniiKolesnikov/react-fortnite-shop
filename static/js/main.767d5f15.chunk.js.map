{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","components/Alert.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Cart.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Footer","className","Date","getFullYear","href","target","rel","Header","id","Alert","props","name","closeAlert","Function","prototype","useEffect","timerId","setTimeout","clearTimeout","BasketItem","price","quantity","removeFromBasket","incQuantity","decQuantity","onClick","bind","BasketList","order","handleBasketShow","totalPrice","reduce","sum","el","length","map","item","Cart","GoodsItem","description","full_background","addToBasket","src","alt","style","fontSize","GoodsList","goods","Preloader","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setIsBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","catch","error","console","log","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAoBeA,EApBA,WACb,OACE,wBAAQC,UAAU,6BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAIC,MAAOC,cADhB,kBAEE,mBACEF,UAAU,iCACVG,KAAK,2DACLC,OAAO,SACPC,IAAI,aAJN,0BCaKC,EAnBA,WACb,OACE,qBAAKN,UAAU,gBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGG,KAAK,IAAIH,UAAU,aAAtB,iCAGA,oBAAIO,GAAG,aAAaP,UAAU,6BAA9B,SACE,6BACE,mBAAGG,KAAK,2DAA2DC,OAAO,SAASC,IAAI,aAAvF,4B,qBCYGG,EAnBD,SAACC,GACb,MAAqDA,EAA9CC,YAAP,MAAc,GAAd,IAAqDD,EAAnCE,kBAAlB,MAA+BC,SAASC,UAAxC,EAWA,OATAC,qBAAU,WACR,IAAMC,EAAUC,WAAWL,EAAY,KAEvC,OAAO,WACLM,aAAaF,MAGd,CAACL,IAGF,qBAAKH,GAAG,kBAAR,SACE,sBAAKP,UAAU,QAAf,UAAwBU,EAAxB,gCCuBSQ,EAvCI,SAACT,GAClB,IACEF,EAOEE,EAPFF,GACAG,EAMED,EANFC,KACAS,EAKEV,EALFU,MACAC,EAIEX,EAJFW,SAJF,EAQIX,EAHFY,wBALF,MAKqBT,SAASC,UAL9B,IAQIJ,EAFFa,mBANF,MAMgBV,SAASC,UANzB,IAQIJ,EADFc,mBAPF,MAOgBX,SAASC,UAPzB,EAUA,OACE,qBAAIb,UAAU,kBAAd,UACGU,EADH,IACUS,EADV,UACmB,IACjB,mBACEnB,UAAU,sCACVwB,QAAS,kBAAMD,EAAYhB,IAF7B,oBAKK,IAPP,IAQIa,EAAU,IACZ,mBACEpB,UAAU,sCACVwB,QAAS,kBAAMF,EAAYf,IAF7B,iBAKK,IAdP,KAeKY,EAAQC,EAfb,UAgBE,sBACEpB,UAAU,oBACVwB,QAASH,EAAiBI,K,UAAWlB,GAFvC,SAKE,mBAAGP,UAAU,gCAAb,yBCSO0B,EAxCI,SAACjB,GAClB,MAMIA,EALFkB,aADF,MACU,GADV,IAMIlB,EAJFmB,wBAFF,MAEqBhB,SAASC,UAF9B,IAMIJ,EAHFY,wBAHF,MAGqBT,SAASC,UAH9B,IAMIJ,EAFFa,mBAJF,MAIgBV,SAASC,UAJzB,IAMIJ,EADFc,mBALF,MAKgBX,SAASC,UALzB,EAQMgB,EAAaF,EAAMG,QAAO,SAACC,EAAKC,GACpC,OAAOD,EAAMC,EAAGb,MAAQa,EAAGZ,WAC1B,GAEH,OACE,qBAAIpB,UAAU,yBAAd,UACE,oBAAIA,UAAU,yBAAd,oBACC2B,EAAMM,OACLN,EAAMO,KAAI,SAACC,GAAD,OAAU,cAAC,EAAD,2BAEdA,GAFc,IAGlBd,iBAAoBA,EACpBC,YAAaA,EACbC,YAAaA,IAJRY,EAAK5B,OAOZ,oBAAIP,UAAU,mBAAd,6BAEF,qBAAIA,UAAU,yBAAd,0BAAqD6B,EAArD,UACE,wBAAQ7B,UAAU,gBAAlB,+BAEF,mBACEA,UAAU,8BACVwB,QAASI,EAFX,uBClBSQ,EAdF,SAAC3B,GACZ,MAGIA,EAFFW,gBADF,MACa,EADb,IAGIX,EADFmB,wBAFF,MAEqBhB,SAASC,UAF9B,EAKA,OACE,sBAAKb,UAAU,gCAAgCwB,QAASI,EAAxD,UACE,mBAAG5B,UAAU,iBAAb,2BACCoB,EAAW,sBAAMpB,UAAU,gBAAhB,SAAiCoB,IAAmB,SCYvDiB,EArBG,SAAC5B,GACjB,IAAQF,EAAmFE,EAAnFF,GAAIG,EAA+ED,EAA/EC,KAAM4B,EAAyE7B,EAAzE6B,YAAanB,EAA4DV,EAA5DU,MAAOoB,EAAqD9B,EAArD8B,gBAAtC,EAA2F9B,EAApC+B,mBAAvD,MAAoE5B,SAASC,UAA7E,EAEA,OACE,sBAAKb,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKyC,IAAKF,EAAiBG,IAAKhC,MAGlC,qBAAKV,UAAU,eAAf,SAEE,4BAAIsC,MAEN,sBAAKtC,UAAU,cAAf,UACE,wBAAQA,UAAU,MAAMwB,QAAS,kBAAMgB,EAAY,CAACjC,KAAIG,OAAMS,WAA9D,iBACA,uBAAMnB,UAAU,QAAQ2C,MAAO,CAAEC,SAAU,UAA3C,UAAuDzB,EAAvD,oBCGO0B,EAhBG,SAACpC,GACjB,MAAyDA,EAAjDqC,aAAR,MAAgB,GAAhB,IAAyDrC,EAArC+B,mBAApB,MAAkC5B,SAASC,UAA3C,EAEA,OAAqB,IAAjBiC,EAAMb,OACD,+CAIP,qBAAKjC,UAAU,QAAf,SACG8C,EAAMZ,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,2BAA6BA,GAA7B,IAAmCK,YAAaA,IAAhCL,EAAK5B,UCJdwC,EARG,WAChB,OACE,qBAAK/C,UAAU,WAAf,SACE,qBAAKA,UAAU,qBC6GNgD,EAxGF,WACX,MAA0BC,mBAAS,IAAnC,mBAAOH,EAAP,KAAcI,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOtB,EAAP,KAAc0B,EAAd,KACA,EAAwCJ,oBAAS,GAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KA6DM7B,EAAmB,WACvB2B,GAAiBD,IAmBnB,OAZAxC,qBAAU,WACR4C,MClFY,yCDkFG,CAAEC,QAAS,CAAEC,cCnFhBC,yCDoFXC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJA,EAAKC,UAAYhB,EAASe,EAAKC,UAC/Bd,GAAW,MAEZe,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAEb,IAGD,uBAAMpE,UAAU,oBAAhB,UACE,cAAC,EAAD,CAAMoB,SAAUO,EAAMM,OAAQL,iBAAkBA,IAC/CuB,EAAW,cAAC,EAAD,IAAiB,cAAC,EAAD,CAAWL,MAAOA,EAAON,YAlFtC,SAACL,GACnB,IAAMoC,EAAY5C,EAAM6C,WAAU,SAAAC,GAAS,OAAIA,EAAUlE,KAAO4B,EAAK5B,MACrE,GAAIgE,EAAY,EAAG,CACjB,IAAMG,EAAO,2BACRvC,GADQ,IAEXf,SAAU,IAEZiC,EAAS,GAAD,mBAAK1B,GAAL,CAAY+C,SACf,CACL,IAAMC,EAAWhD,EAAMO,KAAI,SAACuC,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEErD,SAAUqD,EAAUrD,SAAW,IAG1BqD,KAGXpB,EAASsB,GAEXlB,EAAatB,EAAKzB,SA8Df4C,GAAgB,cAAC,EAAD,CACf3B,MAAOA,EACPC,iBAAkBA,EAClBP,iBA9DmB,SAACwD,GACxB,IAAMF,EAAWhD,EAAMmD,QAAO,SAAA9C,GAAE,OAAIA,EAAGzB,KAAOsE,KAC9CxB,EAASsB,IA6DLrD,YA1Dc,SAACuD,GACnB,IAAMF,EAAWhD,EAAMO,KAAI,SAAAF,GACzB,GAAIA,EAAGzB,KAAOsE,EAAQ,CACpB,IAAME,EAAc/C,EAAGZ,SAAW,EAClC,OAAO,2BACFY,GADL,IAEEZ,SAAU2D,IAGZ,OAAO/C,KAGXqB,EAASsB,IA+CLpD,YA5Cc,SAACsD,GACnB,IAAMF,EAAWhD,EAAMO,KAAI,SAAAF,GACzB,GAAIA,EAAGzB,KAAOsE,EAAQ,CACpB,IAAME,EAAc/C,EAAGZ,SAAW,EAClC,OAAO,2BACFY,GADL,IAEEZ,SAAU2D,GAAc,EAAIA,EAAc,IAG5C,OAAO/C,KAGXqB,EAASsB,MAmCLnB,GAAa,cAAC,EAAD,CAAO9C,KAAM8C,EAAW7C,WA5BxB,WACjB8C,EAAa,WEjEFuB,MAVf,WACE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCJNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.767d5f15.chunk.js","sourcesContent":["const Footer = () => {\r\n  return (\r\n    <footer className='page-footer blue lighten-4'>\r\n      <div className='footer-copyright'>\r\n        <div className='container'>\r\n          © {new Date().getFullYear()} Copyright Text\r\n          <a\r\n            className='grey-text text-lighten-4 right'\r\n            href='https://github.com/EvgeniiKolesnikov/react-fortnite-shop'\r\n            target='_blank'\r\n            rel='noreferrer'\r\n          >\r\n            Repo\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const Header = () => {\r\n  return (\r\n    <nav className='blue darken-1'>\r\n      <div className='nav-wrapper'>\r\n        <a href='.' className='brand-logo'>\r\n          React Fortnite Shop\r\n        </a>\r\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n          <li>\r\n            <a href='https://github.com/EvgeniiKolesnikov/react-fortnite-shop' target='_blank' rel='noreferrer'>\r\n              Repo\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useEffect } from \"react\";\r\n\r\nconst Alert = (props) => {\r\n  const {name = '', closeAlert = Function.prototype} = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000);\r\n    \r\n    return () => {\r\n      clearTimeout(timerId);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [name]);\r\n\r\n  return (\r\n    <div id='toast-container'>\r\n      <div className='toast'>{name} is added to the basket</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","const BasketItem = (props) => {\r\n  const {\r\n    id,\r\n    name,\r\n    price,\r\n    quantity,\r\n    removeFromBasket = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <li className='collection-item'>\r\n      {name} {price} ₽{' '}\r\n      <i\r\n        className='material-icons basket-quantity tiny'\r\n        onClick={() => decQuantity(id)}\r\n      >\r\n        remove\r\n      </i>{' '}\r\n      x{quantity}{' '}\r\n      <i\r\n        className='material-icons basket-quantity tiny'\r\n        onClick={() => incQuantity(id)}\r\n      >\r\n        add\r\n      </i>{' '}\r\n      = {price * quantity} ₽\r\n      <span\r\n        className='secondary-content'\r\n        onClick={removeFromBasket.bind(this, id)}\r\n      >\r\n        {/* <span className='secondary-content' onClick={() => removeFromBasket(id)}> */}\r\n        <i className='material-icons basket-delete '>close</i>\r\n      </span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default BasketItem;\r\n","import BasketItem from './BasketItem';\r\n\r\nconst BasketList = (props) => {\r\n  const {\r\n    order = [],\r\n    handleBasketShow = Function.prototype,\r\n    removeFromBasket = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className='collection basket-list'>\r\n      <li className='collection-item active'>Basket</li>\r\n      {order.length ? (\r\n        order.map((item) => <BasketItem \r\n          key={item.id} \r\n          {...item} \r\n          removeFromBasket = {removeFromBasket}\r\n          incQuantity={incQuantity}\r\n          decQuantity={decQuantity} \r\n        />)\r\n      ) : (\r\n        <li className='collection-item '>Basket is empty</li>\r\n      )}\r\n      <li className='collection-item active'>Total price: {totalPrice} ₽\r\n        <button className=\"btn btn-order\">Place an order</button>\r\n      </li> \r\n      <i\r\n        className='material-icons basket-close'\r\n        onClick={handleBasketShow}\r\n      >\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default BasketList;\r\n","const Cart = (props) => {\r\n  const {\r\n    quantity = 0,\r\n    handleBasketShow = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <div className='cart blue darken-1 white-text' onClick={handleBasketShow}>\r\n      <i className='material-icons'>shopping_cart</i>\r\n      {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","const GoodsItem = (props) => {\r\n  const { id, name, description, price, full_background, addToBasket =Function.prototype } = props;\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-image'>\r\n        <img src={full_background} alt={name} />\r\n\r\n      </div>\r\n      <div className='card-content'>\r\n      {/* <span className='card-title'>{name}</span> */}\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className='card-action'>\r\n        <button className='btn' onClick={() => addToBasket({id, name, price})}>Buy</button>\r\n        <span className='right' style={{ fontSize: '1.8rem'}}>{price} ₽</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoodsItem;\r\n","import GoodsItem from './GoodsItem';\r\n\r\nconst GoodsList = (props) => {\r\n  const { goods = [], addToBasket = Function.prototype } = props;\r\n\r\n  if (goods.length === 0) {\r\n    return <h3>Nothing found</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className='goods'>\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoodsList;\r\n","const Preloader = () => {\r\n  return (\r\n    <div className='progress'>\r\n      <div className='indeterminate'></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport Alert from './Alert';\r\nimport BasketList from './BasketList';\r\nimport Cart from './Cart';\r\nimport GoodsList from './GoodsList';\r\nimport Preloader from './Preloader';\r\n\r\nconst Shop = () => {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setIsBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item, \r\n        quantity: 1,\r\n      }\r\n      setOrder([...order, newItem])\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          }\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      })\r\n      setOrder(newOrder)\r\n    }\r\n    setAlertName(item.name);\r\n  }\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter(el => el.id !== itemId);\r\n    setOrder(newOrder);\r\n  }\r\n\r\n  const incQuantity = (itemId) => {\r\n    const newOrder = order.map(el => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity + 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  }\r\n\r\n  const decQuantity = (itemId) => {\r\n    const newOrder = order.map(el => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity - 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >=0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  }\r\n\r\n  const handleBasketShow = () => {\r\n    setIsBasketShow(!isBasketShow);\r\n  }\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('');\r\n  }\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, { headers: { Authorization: API_KEY } })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      data.featured && setGoods(data.featured);\r\n      setLoading(false);\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <main className='container content'>\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (<Preloader />) : <GoodsList goods={goods} addToBasket={addToBasket} /> }\r\n      {isBasketShow && <BasketList \r\n        order={order} \r\n        handleBasketShow={handleBasketShow} \r\n        removeFromBasket={removeFromBasket} \r\n        incQuantity={incQuantity}\r\n        decQuantity={decQuantity}\r\n      />}\r\n      {\r\n        alertName && <Alert name={alertName} closeAlert={closeAlert} />\r\n      }\r\n    </main>\r\n  )\r\n};\r\n\r\nexport default Shop;\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import Footer from \"./components/Footer\";\r\nimport Header from \"./components/Header\";\r\nimport Shop from \"./components/Shop\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Shop />\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}